"
" ~/.pentadactylrc
"

loadplugins '\.(js|penta)$'
group user

set guioptions=Cs

" A builtin bit.ly shortener.
" Based on http://github.com/scy/dotscy/commit/4526f23a09b2ae51fb7f4b1e2ed3aec84f318fa5
" source : http://bit.ly/rbz0nr
javascript <<EOF
    function shortenURLBitLy (url) {
        var req = new XMLHttpRequest();
        req.open("GET", "http://api.bit.ly/v3/shorten?login=ryndor&apiKey=R_29387c3c4a4cea1497725474229b7c54&format=txt&longUrl=" + encodeURIComponent(url), true)
        req.onreadystatechange = function (ev) {
            if (req.readyState == 4) {
                if (req.status == 200) {
                    dactyl.clipboardWrite(req.responseText.replace(/\s+$/, ''), true);
                }
                else {
                    dactyl.echo(req.responseText);
                }
            }
        }
        req.send(null);
    }
EOF
map -silent gy -js shortenURLBitLy(buffer.URL)

" remove 'pentadactyl' from page title
set titlestring=''

colorscheme desert

" vim: set ft=vim:

